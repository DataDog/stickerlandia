# Test database configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.devservices.enabled=true

# Test Hibernate ORM configuration
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=true

# Disable Flyway for tests
quarkus.flyway.enabled=false

# For unit tests, disable Kafka connectivity
%test.quarkus.kafka.devservices.enabled=false
%test.mp.messaging.outgoing.stickers-assigned.enabled=false
%test.mp.messaging.outgoing.stickers-removed.enabled=false
%test.mp.messaging.outgoing.stickers-claimed.enabled=false

# For integration tests, configure Kafka properly
%prod.kafka.bootstrap.servers=localhost:9092
%prod.quarkus.kafka.devservices.enabled=true

# Enable mockito for CDI beans
quarkus.arc.mock-enabled=true

# Seed data for tests
%test.quarkus.hibernate-orm.sql-load-script=import-test.sql

# Disable real message publishing for tests
quarkus.arc.test.disable-application-lifecycle-observers=true

# S3 Dev Services configuration for tests
quarkus.s3.devservices.enabled=true
quarkus.s3.devservices.buckets=sticker-images
quarkus.s3.aws.region=us-east-1
quarkus.s3.aws.credentials.type=static
quarkus.s3.aws.credentials.static-provider.access-key-id=test-key
quarkus.s3.aws.credentials.static-provider.secret-access-key=test-secret
sticker.images.bucket=sticker-images